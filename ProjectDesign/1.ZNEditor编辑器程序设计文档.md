# ZNEditor

# 一、功能设计
## 1、三种模式
阅读模式，文本编辑模式、代码编辑模式
## 2、界面
纯色界面背景、图片背景、透明背景、毛玻璃、文本字体、

后续启动动画，登录界面

# 二、程序设计(数据结构)设计

## 1、阅读模式
读取为缓存文件
文件目录读取：正则表达式，规则不同，重新生成缓存文件。缓存文件安大小分页（章节强制分页，待定）目录缓存，目录位置保存，重新生成刷新（格式：n页第n个字符）
阅读模式分页可增大，按章节最大字数（大约5000字）分页，换行符为一个字符
字体、页码、大小、按行滚屏、北京、缩放、每章计算总页，每页显示总体百分比。
状态栏：书名、章节名、当前系统时间等状态，阅读量百分比、当前章节页码
阅读缓冲：以当前章节末尾（即下一章开始，向后读取50章或阅读缓冲0.5MB-1MB（5万-10万字），读取触发：当前缓存的最后一章节开始）
## 2、文本编辑模式
小文件、大文件、超大文件
小文件全部读入内存
字体、大小、前景色、背景色、段落、行号
当前行、被中文字、行、段的颜色
文字编码格式转换
复制、剪切、粘贴、查找、替换、删除、撤销、光标闪烁（单文件查找、替换和在整个项目查找替换）
状态：总字符数、总行列数、当前行列数、被选中字符数量行列。改动（标题文件名显示""*)*  待保存，自动保存
操作记录栈：撤销，反向撤销，撤销一组操作
路径树、文件目录树 Markdown
##  3、代码编辑模式
字体、大小、前景色、背景色、段落、行号
当前行、被中文字、行、段的颜色、代码扩展主题插件
文字编码格式转换
复制、剪切、粘贴、查找、替换、删除、撤销、光标闪烁（单文件查找、替换和在整个项目查找替换）
状态：总字符数、总行列数、当前行列数、被选中字符数量行列。改动（标题文件名显示""*)*  待保存，自动保存
操作记录栈：撤销，反向撤销，撤销一组操作
路径树、文件目录树 Markdown
关键字、注释、拼写不全、当前文件字符联想、按文件后缀格式补全、包含头文件、函数、跳转、函数、类成员函数方法提示
插件、快捷键、vim
配置文件：关键字设置、无法加载配置文件使用默认配置
config、XML、JSON
## 4、文字处理
按行处理，数据结构为链表，每一行单独储存一个链表结构
## 5、缓冲文件
二进制格式保存文件，每页N个字节，后续超过单页大小的数据文件申请空页
删除末尾行，每行保存，每次回车保存一次当前行操作
编辑完成后保存，复制缓存文件替换原文件，删除缓存文件.tmp后缀



# 三、编程实现
## 1、数据库
SQLite3、MySQL、Redis、MongoDB、SQL Server、Oracle
## 2、编程语言、框架选择
C++、C#、Rust、Python
Boost
QT、MFC、WinForm
OpenGL、Vulkan(图形引擎)

## 3、程序启动关联
WPS类似，主程序控制，文本阅读器、文本编辑器、代码编辑器三个模块可单独启动，又依赖于主程序。
# 四、版本控制

## Gitee

​                                   |--->-b:tag:QT ...      |-->-b:tag:单文档            |--->-b:tag:阅读模块 
Gitee--->tag:初始化---+--->master:MFC---+-->master:对话框---+--->master:文本编辑模块    
​                                   |--->-b:tag:C# ...      |-->-b:tag:富文档            |--->-b:tag:代码编辑模块

​                                    ...Rust,Python

单模块启动，模块彻底分离

# 五、后续目标
系列编辑器：文本阅读器、文本编辑器、代码编辑器（C，C++，Rust，Qt，Python），Word，Excel，PowerPoint，绘图：思维导图，微软OneNote（图片、文字、矢量、音频、视频、时间戳，网格页模式）
# 六、汉字编码
UTF-8(ASSIC)
GB2312
GBK
GB18030