åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åº
æ•™ç¨‹ç›®å½•

è¿™æ˜¯ Electron æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ã€‚

    åŸºæœ¬è¦æ±‚
    åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åº
    ä½¿ç”¨é¢„åŠ è½½è„šæœ¬
    æ·»åŠ åŠŸèƒ½
    æ‰“åŒ…æ‚¨çš„åº”ç”¨ç¨‹åº
    å‘å¸ƒå’Œæ›´æ–°

å­¦ä¹ ç›®æ ‡

åœ¨æœ¬èŠ‚ï¼Œæ‚¨ä¼šå­¦ä¹ å¦‚ä½•åˆ›å»ºæ‚¨çš„ Electron é¡¹ç›®ï¼Œå¹¶ä¸”ç¼–å†™ä¸€ä¸ªç®€å•çš„å…¥é—¨ç¨‹åºã€‚ åˆ°äº†æœ¬èŠ‚æœ«å°¾ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨ç»ˆç«¯å¼€å‘ç¯å¢ƒè¿è¡Œä¸€ä¸ª Electron åº”ç”¨ã€‚
åˆ›å»ºé¡¹ç›®
é¿å…ä½¿ç”¨ WSL

å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Windowsç³»ç»Ÿï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­è¯·ä¸è¦ä½¿ç”¨ Windows Subsystem for Linux (WSL)ï¼Œå¦åˆ™æ‚¨åœ¨å°è¯•è¿è¡Œåº”ç”¨æ—¶å¯èƒ½ä¼šé‡åˆ°é—®é¢˜ã€‚
åˆå§‹åŒ– npm é¡¹ç›®

Electron åº”ç”¨åŸºäº npm æ­å»ºï¼Œä»¥ package.json æ–‡ä»¶ä½œä¸ºå…¥å£ç‚¹ã€‚ é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å…¶ä¸­æ‰§è¡Œ npm init åˆå§‹åŒ–é¡¹ç›®ã€‚

    npm
    Yarn

mkdir my-electron-app && cd my-electron-app
npm init

è¿™æ¡å‘½ä»¤ä¼šå¸®æ‚¨é…ç½® package.json ä¸­çš„ä¸€äº›å­—æ®µã€‚ ä¸ºæœ¬æ•™ç¨‹çš„ç›®çš„ï¼Œæœ‰å‡ æ¡è§„åˆ™éœ€è¦éµå¾ªï¼š

    å…¥å£ç‚¹ åº”å½“æ˜¯ main.js (æ‚¨å¾ˆå¿«å°±ä¼šåˆ›å»ºå®ƒ)
    author, license, and description can be any value, but will be necessary for packaging later on.

ç„¶åï¼Œå°† Electron å®‰è£…ä¸ºæ‚¨é¡¹ç›®çš„ devDependenciesï¼Œå³ä»…åœ¨å¼€å‘ç¯å¢ƒéœ€è¦çš„é¢å¤–ä¾èµ–ã€‚
ä¸ºä»€ä¹ˆ Electron æ˜¯ devDependency?

æ‚¨çš„åº”ç”¨éœ€è¦è¿è¡Œ Electron APIï¼Œå› æ­¤è¿™å¬ä¸Šå»å¯èƒ½æœ‰ç‚¹åç›´è§‰ã€‚ å®é™…ä¸Šï¼Œæ‰“åŒ…åçš„åº”ç”¨æœ¬èº«ä¼šåŒ…å« Electron çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› æ­¤ä¸éœ€è¦å°† Electron ä½œä¸ºç”Ÿäº§ç¯å¢ƒä¾èµ–ã€‚

    npm
    Yarn

npm install electron --save-dev

åœ¨åˆå§‹åŒ–å¹¶ä¸”å®‰è£…å®Œ Electron ä¹‹åï¼Œæ‚¨çš„ package.json åº”è¯¥é•¿ä¸‹é¢è¿™æ ·ã€‚ æ–‡ä»¶å¤¹ä¸­ä¼šå‡ºç°ä¸€ä¸ª node_modules æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«äº† Electron å¯æ‰§è¡Œæ–‡ä»¶ï¼›è¿˜æœ‰ä¸€ä¸ª package-lock.json æ–‡ä»¶ï¼ŒæŒ‡å®šäº†å„ä¸ªä¾èµ–çš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚
package.json

{
  "name": "my-electron-app",
  "version": "1.0.0",
  "description": "Hello World!",
  "main": "main.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Jane Doe",
  "license": "MIT",
  "devDependencies": {
    "electron": "23.1.3"
  }
}

é«˜çº§å®‰è£…æ­¥éª¤

If installing Electron directly fails, please refer to our Advanced Installation documentation for instructions on download mirrors, proxies, and troubleshooting steps.
æ·»åŠ  .gitignore æ–‡ä»¶

.gitignore æ–‡ä»¶å¯ä»¥æŒ‡å®šå“ªäº›æ–‡ä»¶å’Œç›®å½•åº”è¯¥åœ¨Gitä¸­ä¸è¢«è·Ÿè¸ªã€‚ å»ºè®®æ‚¨å¤åˆ¶ä¸€ä»½ GitHub çš„ Node.js gitignore æ¨¡æ¿ åˆ°æ‚¨é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œä»¥é¿å…å°† node_modules æ–‡ä»¶å¤¹æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ã€‚
è¿è¡Œ Electron åº”ç”¨

:::å»¶ä¼¸é˜…è¯»

Read Electron's process model documentation to better understand how Electron's multiple processes work together.

:::

æ‚¨åœ¨ package.json ä¸­æŒ‡å®šçš„ main æ–‡ä»¶æ˜¯ Electron åº”ç”¨çš„å…¥å£ã€‚ è¿™ä¸ªæ–‡ä»¶æ§åˆ¶ ä¸»ç¨‹åº (main process)ï¼Œå®ƒè¿è¡Œåœ¨ Node.js ç¯å¢ƒé‡Œï¼Œè´Ÿè´£æ§åˆ¶æ‚¨åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€æ˜¾ç¤ºåŸç”Ÿç•Œé¢ã€æ‰§è¡Œç‰¹æ®Šæ“ä½œå¹¶ç®¡ç†æ¸²æŸ“å™¨è¿›ç¨‹ (renderer processes)ï¼Œç¨åä¼šè¯¦ç»†ä»‹ç»ã€‚

åœ¨ç»§ç»­ç¼–å†™æ‚¨çš„ Electron åº”ç”¨ä¹‹å‰ï¼Œæ‚¨å°†ä½¿ç”¨ä¸€ä¸ªå°å°çš„è„šæœ¬æ¥ç¡®ä¿ä¸»è¿›ç¨‹å…¥å£ç‚¹å·²ç»é…ç½®æ­£ç¡®ã€‚ åœ¨æ ¹ç›®å½•çš„ main.js æ–‡ä»¶ä¸­å†™ä¸€è¡Œä»£ç ï¼š
main.js

console.log('Hello from Electron ğŸ‘‹')

Because Electron's main process is a Node.js runtime, you can execute arbitrary Node.js code with the electron command (you can even use it as a REPL). è¦æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œéœ€è¦åœ¨ package.json çš„ scripts å­—æ®µä¸­æ·»åŠ ä¸€ä¸ª start å‘½ä»¤ï¼Œå†…å®¹ä¸º electron . ã€‚ è¿™ä¸ªå‘½ä»¤ä¼šå‘Šè¯‰ Electron åœ¨å½“å‰ç›®å½•ä¸‹å¯»æ‰¾ä¸»è„šæœ¬ï¼Œå¹¶ä»¥å¼€å‘æ¨¡å¼è¿è¡Œå®ƒã€‚
package.json

{
  "name": "my-electron-app",
  "version": "1.0.0",
  "description": "Hello World!",
  "main": "main.js",
  "scripts": {
    "start": "electron .",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Jane Doe",
  "license": "MIT",
  "devDependencies": {
    "electron": "23.1.3"
  }
}

    npm
    Yarn

npm run start

æ‚¨çš„ç»ˆç«¯åº”è¯¥ä¼šè¾“å‡º æ¬¢è¿æ¥åˆ° Electron ğŸ‘‹ã€‚ æ­å–œï¼Œæ‚¨å·²ç»åœ¨ Electron ä¸­æ‰§è¡Œäº†æ‚¨çš„ç¬¬ä¸€è¡Œä»£ç ï¼ æ¥ä¸‹æ¥ï¼Œæ‚¨ä¼šå­¦ä¹ å¦‚ä½•ç”¨ HTML åˆ›å»ºç”¨æˆ·ç•Œé¢ï¼Œå¹¶å°†å®ƒä»¬è£…è½½åˆ°åŸç”Ÿçª—å£ä¸­ã€‚
å°†ç½‘é¡µè£…è½½åˆ° BrowserWindow

åœ¨ Electron ä¸­ï¼Œæ¯ä¸ªçª—å£å±•ç¤ºä¸€ä¸ªé¡µé¢ï¼Œåè€…å¯ä»¥æ¥è‡ªæœ¬åœ°çš„ HTMLï¼Œä¹Ÿå¯ä»¥æ¥è‡ªè¿œç¨‹ URLã€‚ åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å°†ä¼šè£…è½½æœ¬åœ°çš„æ–‡ä»¶ã€‚ åœ¨æ‚¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª index.html æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä¸‹é¢çš„å†…å®¹ï¼š
index.html

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>Hello from Electron renderer!</title>
  </head>
  <body>
    <h1>Hello from Electron renderer!</h1>
    <p>ğŸ‘‹</p>
  </body>
</html>

Now that you have a web page, you can load it into an Electron BrowserWindow. å°† main.js ä¸­çš„å†…å®¹æ›¿æ¢æˆä¸‹åˆ—ä»£ç ã€‚ æˆ‘ä»¬é©¬ä¸Šä¼šé€è¡Œè§£é‡Šã€‚
main.js

const { app, BrowserWindow } = require('electron')

const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}

app.whenReady().then(() => {
  createWindow()
})

å¯¼å…¥æ¨¡å—
main.js (Line 1)

const { app, BrowserWindow } = require('electron')

åœ¨ç¬¬ä¸€è¡Œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ CommonJS è¯­æ³•å¯¼å…¥äº†ä¸¤ä¸ª Electron æ¨¡å—ï¼š

    app, which controls your application's event lifecycle.
    BrowserWindow, which creates and manages app windows.

æ¨¡å—åçš„å¤§å°å†™è§„èŒƒ
ç±»å‹åŒ–å¯¼å…¥åˆ«å
Electron ä¸­çš„ ES æ¨¡å—

Electron 28 èµ·ï¼ŒElectron æ”¯æŒECMAScript æ¨¡å—ï¼ˆå³ä½¿ç”¨ import åŠ è½½æ¨¡å—ï¼‰ã€‚ æ‚¨å¯ä»¥åœ¨æˆ‘ä»¬çš„ ESM æŒ‡å— ä¸­æ‰¾åˆ°æœ‰å…³ Electron ä¸­ ESM çŠ¶æ€ä»¥åŠå¦‚ä½•åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒä»¬çš„æ›´å¤šä¿¡æ¯ã€‚
å°†å¯å¤ç”¨çš„å‡½æ•°å†™å…¥å®ä¾‹åŒ–çª—å£

createWindow() å‡½æ•°å°†æ‚¨çš„é¡µé¢åŠ è½½åˆ°æ–°çš„ BrowserWindow å®ä¾‹ä¸­ï¼š
main.js (Lines 3-10)

const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}

åœ¨åº”ç”¨å‡†å¤‡å°±ç»ªæ—¶è°ƒç”¨å‡½æ•°
main.js (Lines 12-14)

app.whenReady().then(() => {
  createWindow()
})

Electron çš„è®¸å¤šæ ¸å¿ƒæ¨¡å—éƒ½æ˜¯ Node.js çš„äº‹ä»¶è§¦å‘å™¨ï¼Œéµå¾ª Node.js çš„å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„ã€‚ app æ¨¡å—å°±æ˜¯å…¶ä¸­ä¸€ä¸ªã€‚

In Electron, BrowserWindows can only be created after the app module's ready event is fired. You can wait for this event by using the app.whenReady() API and calling createWindow() once its promise is fulfilled.
info

é€šå¸¸æˆ‘ä»¬ä½¿ç”¨è§¦å‘å™¨çš„ .on å‡½æ•°æ¥ç›‘å¬ Node.js äº‹ä»¶ã€‚

+ app.on('ready', () => {
- app.whenReady().then(() => {
  createWindow()
})

ä½†æ˜¯ Electron æš´éœ²äº† app.whenReady() æ–¹æ³•ï¼Œä½œä¸ºå…¶ ready äº‹ä»¶çš„ä¸“ç”¨ç›‘å¬å™¨ï¼Œè¿™æ ·å¯ä»¥é¿å…ç›´æ¥ç›‘å¬ .on äº‹ä»¶å¸¦æ¥çš„ä¸€äº›é—®é¢˜ã€‚ å‚è§ electron/electron#21972 ã€‚

æ­¤æ—¶ï¼Œè¿è¡Œ start å‘½ä»¤åº”è¯¥èƒ½æˆåŠŸåœ°æ‰“å¼€ä¸€ä¸ªåŒ…å«æ‚¨ç½‘é¡µå†…å®¹çš„çª—å£ï¼

æ‚¨åº”ç”¨ä¸­çš„æ¯ä¸ªé¡µé¢éƒ½åœ¨ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ä¸­è¿è¡Œï¼Œæˆ‘ä»¬ç§°è¿™äº›è¿›ç¨‹ä¸º æ¸²æŸ“å™¨ (renderer) ã€‚ æ¸²æŸ“è¿›ç¨‹ä½¿ç”¨ä¸å¸¸è§„Webå¼€å‘ç›¸åŒçš„JavaScript APIå’Œå·¥å…·ï¼Œä¾‹å¦‚ä½¿ç”¨ webpackæ¥æ‰“åŒ…å’Œå‹ç¼©æ‚¨çš„ä»£ç ï¼Œæˆ–ä½¿ç”¨ React æ„å»ºç”¨æˆ·ç•Œé¢ã€‚
ç®¡ç†åº”ç”¨çš„çª—å£ç”Ÿå‘½å‘¨æœŸ

åº”ç”¨çª—å£åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸­çš„è¡Œä¸ºä¹Ÿä¸åŒã€‚ Electron å…è®¸æ‚¨è‡ªè¡Œå®ç°è¿™äº›è¡Œä¸ºæ¥éµå¾ªæ“ä½œç³»ç»Ÿçš„è§„èŒƒï¼Œè€Œä¸æ˜¯é‡‡ç”¨é»˜è®¤çš„å¼ºåˆ¶æ‰§è¡Œã€‚ æ‚¨å¯ä»¥é€šè¿‡ç›‘å¬ app å’Œ BrowserWindow æ¨¡ç»„çš„äº‹ä»¶ï¼Œè‡ªè¡Œå®ç°åŸºç¡€çš„åº”ç”¨çª—å£è§„èŒƒã€‚
é’ˆå¯¹ç‰¹å®šè¿›ç¨‹çš„æ§åˆ¶æµ

é€šè¿‡æ£€æŸ¥ Node.js çš„ process.platform å˜é‡ï¼Œæ‚¨å¯ä»¥é’ˆå¯¹ç‰¹å®šå¹³å°è¿è¡Œç‰¹å®šä»£ç ã€‚ è¯·æ³¨æ„ï¼ŒElectron ç›®å‰åªæ”¯æŒä¸‰ä¸ªå¹³å°ï¼šwin32 (Windows), linux (Linux) å’Œ darwin (macOS) ã€‚
å…³é—­æ‰€æœ‰çª—å£æ—¶é€€å‡ºåº”ç”¨ (Windows & Linux)

åœ¨ Windows å’Œ Linux ä¸Šï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›åœ¨å…³é—­ä¸€ä¸ªåº”ç”¨çš„æ‰€æœ‰çª—å£åè®©å®ƒé€€å‡ºã€‚ To implement this pattern in your Electron app, listen for the app module's window-all-closed event, and call app.quit() to exit your app if the user is not on macOS.

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') app.quit()
})

å¦‚æœæ²¡æœ‰çª—å£æ‰“å¼€åˆ™æ‰“å¼€ä¸€ä¸ªçª—å£ (macOS)

ä¸å‰äºŒè€…ç›¸æ¯”ï¼Œå³ä½¿æ²¡æœ‰æ‰“å¼€ä»»ä½•çª—å£ï¼ŒmacOS åº”ç”¨é€šå¸¸ä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚ åœ¨æ²¡æœ‰çª—å£å¯ç”¨æ—¶è°ƒç”¨ app ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çª—å£ã€‚

To implement this feature, listen for the app module's activate event, and call your existing createWindow() method if no BrowserWindows are open.

å› ä¸ºçª—å£æ— æ³•åœ¨ ready äº‹ä»¶å‰åˆ›å»ºï¼Œä½ åº”å½“åœ¨ä½ çš„åº”ç”¨åˆå§‹åŒ–åä»…ç›‘å¬ activate äº‹ä»¶ã€‚ è¦å®ç°è¿™ä¸ªï¼Œä»…ç›‘å¬ whenReady() å›è°ƒå³å¯ã€‚

app.whenReady().then(() => {
  createWindow()

  app.on('activate', () => {
    if (BrowserWindow.getAllWindows().length === 0) createWindow()
  })
})

å®Œæ•´å®ç°ä»£ç 
docs/fiddles/tutorial-first-app (34.0.0)
main.js:

const { app, BrowserWindow } = require('electron/main')

const createWindow = () => {
  const win = new BrowserWindow({
    width: 800,
    height: 600
  })

  win.loadFile('index.html')
}

app.whenReady().then(() => {
  createWindow()

  app.on('activate', () => {
    if (BrowserWindow.getAllWindows().length === 0) {
      createWindow()
    }
  })
})

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') {
    app.quit()
  }
})


index.html:
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <title>Hello from Electron renderer!</title>
  </head>
  <body>
    <h1>Hello from Electron renderer!</h1>
    <p>ğŸ‘‹</p>
    <p id="info"></p>
  </body>
  <script src="./renderer.js"></script>
</html>
å¯é€‰ï¼šä½¿ç”¨ VS Code è°ƒè¯•

å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨ VS Code è°ƒè¯•æ‚¨çš„ç¨‹åºï¼Œæ‚¨éœ€è¦è®© VS Code ç›‘å¬ä¸»è¿›ç¨‹ (main process) å’Œæ¸²æŸ“å™¨è¿›ç¨‹ (renderer process) ã€‚ ä¸‹é¢ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶ã€‚ è¯·åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª .vscode æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª launch.json é…ç½®æ–‡ä»¶å¹¶å¡«å†™å¦‚ä¸‹å†…å®¹ã€‚
.vscode/launch.json

{
  "version": "0.2.0",
  "compounds": [
    {
      "name": "Main + renderer",
      "configurations": ["Main", "Renderer"],
      "stopAll": true
    }
  ],
  "configurations": [
    {
      "name": "Renderer",
      "port": 9222,
      "request": "attach",
      "type": "chrome",
      "webRoot": "${workspaceFolder}"
    },
    {
      "name": "Main",
      "type": "node",
      "request": "launch",
      "cwd": "${workspaceFolder}",
      "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/electron",
      "windows": {
        "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/electron.cmd"
      },
      "args": [".", "--remote-debugging-port=9222"],
      "outputCapture": "std",
      "console": "integratedTerminal"
    }
  ]
}

ä¿å­˜åï¼Œå½“æ‚¨é€‰æ‹©ä¾§è¾¹æ çš„ â€œè¿è¡Œå’Œè°ƒè¯•â€ï¼Œå°†ä¼šå‡ºç°ä¸€ä¸ª "Main + renderer" é€‰é¡¹ã€‚ç„¶åæ‚¨ä¾¿å¯è®¾ç½®æ–­ç‚¹ï¼Œå¹¶è·Ÿè¸ªä¸»è¿›ç¨‹å’Œæ¸²æŸ“å™¨è¿›ç¨‹ä¸­çš„æ‰€æœ‰å˜é‡ã€‚

ä¸Šæ–‡ä¸­æˆ‘ä»¬åœ¨ launch.json æ‰€åšçš„å…¶å®æ˜¯åˆ›å»ºä¸‰ä¸ªé…ç½®é¡¹ï¼š

    Main ç”¨æ¥è¿è¡Œä¸»ç¨‹åºï¼Œå¹¶ä¸”æš´éœ²å‡º 9222 ç«¯å£ç”¨äºè¿œç¨‹è°ƒè¯• (--remote-debugging-port=9222) ã€‚ æˆ‘ä»¬å°†æŠŠè°ƒè¯•å™¨ç»‘å®šåˆ°é‚£ä¸ªç«¯å£æ¥è°ƒè¯• renderer ã€‚ å› ä¸ºä¸»è¿›ç¨‹æ˜¯ Node.js è¿›ç¨‹ï¼Œç±»å‹è¢«è®¾ç½®ä¸º nodeã€‚
    Renderer ç”¨æ¥è°ƒè¯•æ¸²æŸ“å™¨è¿›ç¨‹ã€‚ å› ä¸ºåè€…æ˜¯ç”±ä¸»è¿›ç¨‹åˆ›å»ºçš„ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒ â€œç»‘å®šâ€ åˆ°ä¸»è¿›ç¨‹ä¸Š ()"request": "attach"ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚ æ¸²æŸ“å™¨æ˜¯ web è¿›ç¨‹ï¼Œå› æ­¤è¦é€‰æ‹© chrome è°ƒè¯•å™¨ã€‚
    Main + renderer æ˜¯ä¸€ä¸ª å¤åˆä»»åŠ¡ï¼Œå¯ä»¥åŒæ—¶æ‰§è¡Œä¸Šè¿°ä»»åŠ¡ã€‚

æ³¨æ„äº‹é¡¹

ç”±äºæˆ‘ä»¬è¦å°†è¿›ç¨‹ç»‘å®šåˆ° Renderer ä»»åŠ¡ï¼Œæ‚¨åº”ç”¨ä¸­çš„å‰å‡ è¡Œä»£ç å¯èƒ½ä¼šè¢«è·³è¿‡ï¼Œå› ä¸ºè°ƒè¯•å™¨ (Debugger) åœ¨æ‰§è¡Œä»£ç ä¹‹å‰æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´è¿›è¡Œè¿æ¥ã€‚ åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡åˆ·æ–°é¡µé¢æˆ–è€…ä½¿ç”¨ setTimeout å»¶è¿Ÿè¿è¡Œä»£ç ï¼Œæ¥é¿å¼€è¿™ä¸ªé—®é¢˜ã€‚
å»¶ä¼¸é˜…è¯»

å¦‚æœæ‚¨å¸Œæœ›æ·±æŒ–è°ƒè¯•æ­¥éª¤ï¼Œå¯ä»¥æŸ¥çœ‹ä»¥ä¸‹æŒ‡å—ï¼š

    è°ƒè¯•åº”ç”¨
    DevTools æ‰©å±•

æ‘˜è¦

Electron ç¨‹åºæ˜¯é€šè¿‡ npm åŒ…åˆ›å»ºçš„ã€‚ æ‚¨åº”å°† Electron ä¾èµ–å®‰è£…åˆ° devDependencies ï¼Œç„¶ååœ¨ package.json ä¸­è®¾ç½®ä¸€ä¸ªè„šæœ¬æ¥è¿è¡Œã€‚

æ‰§è¡Œå‘½ä»¤åï¼ŒElectron ç¨‹åºä¼šè¿è¡Œæ‚¨åœ¨ package.json æ–‡ä»¶çš„ main å­—æ®µè®¾ç½®çš„å…¥å£æ–‡ä»¶ã€‚ è¿™ä¸ªå…¥å£æ–‡ä»¶æ§åˆ¶ç€ Electron çš„ä¸»è¿›ç¨‹ï¼Œåè€…è¿è¡Œäº Node.js å®ä¾‹ï¼Œè´Ÿè´£åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€å±•ç¤ºåŸç”Ÿçª—å£ã€æ‰§è¡Œç‰¹æ®Šæ“ä½œå’Œç®¡ç†æ¸²æŸ“è¿›ç¨‹ã€‚

æ¸²æŸ“å™¨è¿›ç¨‹(ç®€ç§°æ¸²æŸ“å™¨) è´Ÿè´£å±•ç¤ºå›¾å½¢å†…å®¹ã€‚ æ‚¨å¯ä»¥å°†æ¸²æŸ“çš„ç½‘é¡µæŒ‡å‘ web åœ°å€æˆ–æœ¬åœ° HTML æ–‡ä»¶ã€‚ æ¸²æŸ“å™¨å’Œå¸¸è§„çš„ç½‘é¡µè¡Œä¸ºå¾ˆç›¸ä¼¼ï¼Œè®¿é—®çš„ web API ä¹Ÿç›¸åŒã€‚

åœ¨æ•™ç¨‹ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†ä¼šå­¦ä¹ å¦‚ä½•ä½¿ç”¨ API ç»™æ¸²æŸ“å™¨ææƒï¼Œä»¥åŠå¦‚ä½•åœ¨è¿›ç¨‹é—´é€šä¿¡ã€‚
