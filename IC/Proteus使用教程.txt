1.Proteus简介

    Proteus 是一款用于嵌入式单片机仿真的软件，用于在打PCB板之前对软件程序和硬件电路的正确性进行仿真验证。

1.所以Proteus一般会和Keil软件进行联合仿真，在Proteus中绘制系统的电路图，在Keil软件中编写对应的程序后生成Hex文件。
2.Proteus的仿真结果仅供参考，只能在一定程度上验证系统的可能性。实际实物系统还需要进行进一步的调试。
2. Proteus下载与安装

    需要的道友请自取：
    链接：https://pan.baidu.com/s/1Fmkf9mm-av6F-7OXON6XaA?pwd=twy5
    提取码：twy5

3. Proteus新建工程

1.安装完成后，打开Proteus软件，点击新建工程：
————————————————

                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。

原文链接：https://blog.csdn.net/ediykk/article/details/131878256
2.修改工程名字和工程保存路径：
3.接着一直点Next，到最后点击Finish，工程创建完成：
4. 添加工程元器件：
1.点击左上角P按键：
2.在关键词搜索框输入对应的元器件缩写或者芯片型号（以电阻为例）：
res(电阻)
3.添加元器件后，点击元件模式，会显示已经添加的元器件：
4.点击对应元器件，将鼠标移到原理图位置，会出现紫色的元器件，此时选择位置，选择合适的位置后单击鼠标即可成功在原理图中添加元器件：
5.双击元器件即可改变元器件的属性：
如可将电阻值改为–>500欧姆：
类似的：对于电容可以改变电容值，对于单片机可以改变晶振频率，对于电机可以改变最大转速等等等

    常用元器件对应缩写
    1.电阻：RES
    2.电容：CAP（极性电容： CAP-ELEC）
    3.晶振：CRYSTAL
    4.按键： BUTTON
    5.开关：SWITCH
    6.排阻：RESPACK
    7.发光二极管(LED)：LED-BIBY
    8.二极管： DIODE
    9.三极管：PNP/NPN
    10.蜂鸣器：BUZZER（active为有源蜂鸣器）
    11.超声波传感器：HCSR04
    12.直流电机：MOTOR-DC
    13.单片机：AT89C51/AT89C52/STM32XX
    14.LCD1602：LM016L
    15.OLED屏：OLED12864I2C
    16.滑动变阻器：POT（-HG为1%精度，-LIN/-LOG精度为10%）
    17.继电器：RELAY

5.特殊部件添加
5.1电源和地

    点击左侧的终端模式，可以添加电源和地，POWER与GROUND


电源端默认为+5V，若涉及的系统中涉及其他电源如7.4V、3.3V和12V等，需要在电源网络中进行添加。具体的配置方法在后文中的例子中会详细介绍。
5.2激励源模式

    可以添加各种信号激励

5.3探针模式

    可以测得在系统运行时电路中某一结点处的电压

5.4常用虚拟仪器

5.5二维直线模式

    用于画SCH原理图

5.5添加文本


    以上既是Proteus软件的基本介绍，
    接着介绍两个例子快速入门Proteus。

6.Example 1 电源稳压模块仿真

    这个例子不涉及程序，较为简单，仅仅是涉及电路，同时扩展配置系统电源网络的方法。

6.1稳压需求

    将12V的输入电压稳压到5V供电

6.2稳压电路



电路图中左右两个电压表用于表征稳压效果，LM7805为稳压芯片，可以将7V到35V的电压稳压到5V，下图为其电气特性图：

电解电容作为整流电容，是为了使得电流更加平滑。普通的介质电容，其作用主要是为了滤波和防止断电时电压过大回流烧毁芯片。
开始仿真：


由图中电流表可知电池的12V电压经过稳压模块电路后变成5V，达到稳压效果。
6.3配置供电网

    上述电路图仅仅是将12V稳压到5V然而并没有对其进行配置，若电源端没有任何标号，如下图所示，默认为VCC 5V供电。

    而如果需要更改其电源大小为+5V/12V/3V3等其他电源供电，则需要先双击电源，更改其字符串为+5V，再配置供电网。



    供电网配置（以添加5V0供电网为例），将之前的+5V标号改成5V0


1.依次点击设计和配置供电网:

2.点击新建：

3.选择新建的电源导轨5V0，设置对应电压，单位为V，再将未连接的电网添加到5V0：

4.点击确认，网络配置完成：

7.Example 2 51单片机点灯

    任何和嵌入式相关的学习入门都是点灯，人人都是点灯大师！
    ——鲁迅

    这个例子将会介绍如何使用Proteus和Keil软件进行联合仿真，实际上也非常的简单。联合仿真的顺序应是先设计硬件电路再编写软件程序最后联合仿真调试。

7.1 点灯硬件电路

    使用简单的51单片机作为主控
    使用P27口点亮LED

点灯电路的硬件原理图：

实际上晶振电路和复位电路在Proteus中不需要绘制，其晶振的选择改变可以通过双击单片机进行修改，但是为了电路图的完整性，本次还是完整的绘制了。
本次使用的晶振为12MHz：

    原理图中除了LED灯均为单片机的最小系统部分。

7.2点灯软件设计

    软件设计的思想非常简单，只需要给P27端口高电平，LED灯就亮了。

1.在Keil软件中编写代码

#include <REGX52.H>

void main()
{
	P2_7 = 1;	//P2.7端口置1
	while(1)
	{

	}
}


2.点击魔术棒选项：

3.在output选项框中勾选Create Hex File：

4.按F7编译文件,终端显示无错误无警告：

7.3联合仿真

1.在Proteus中双击单片机，点击Program File对应的黄色文件夹：

2.找到刚刚Keil软件编译生成的Hex文件打开（一般在Keil工程的Objects目录下），之后点击确认：

3.点击开始仿真，灯亮！

7.4补充知识点——网络标号

从上述的原理图中可以看到晶振电路并没有直接和单片机连接，而是使用网络标号。那么什么是网络标号喃？

    其实就是给电路的端口起了一个“外号”，电路中端口标号相同的地方默认是有导线连接，这样可以使得电路图更加简洁命令，不至于满屏幕都是导线。

网络标号的添加：
1.点击端口引出导线，双击后确定导线长度：


2.点击左侧的连线标号模式：


3.再点击导线即可对导线进行网络标号：

如下图所示两个电路其实是等效的：


8.Proteus原理图的美化与导出
8.1改变背景颜色

1.点击上方模板，设置设计默认值：
2.修改纸张颜色，一般用白色比较好看：


8.2修改元器件颜色

1.点击上方模板，选择设计图形样式：

2.在此处即可进行设置，（默认颜色的RGB为：200，200，170）：

8.3纸张大小设置

    设计的系统不同，电路图的大小亦不同。

1.点击上方系统选项，选择设置纸张大小：


2.选择设置合适的尺寸，蓝色边框为纸张大小：



8.4模块划分和添加信息

1.点击本文中5.5提到的二维直线模式，将原理图按照各自功能划分,可以打开网格辅助画线：


2.通过本文5.5节方法为原理图添加信息：

    信息可以为工程名，作者，各模块名称等等等等，布局合理即可




8.5导出SVG图

    在编写相关文档时可能需要导出电路图和仿真图。

1.点击文件，选择输出图像，选择Export SVG File

2.点击勾选Colour Output：

即可导出SVG图片。
3.同理也可导出PDF文件：

若不勾选输出颜色选项，则输出图像为黑白：



    输出仿真结果原理图时，则点击仿真按钮后，再导出，若不需要仿真结果原理图，则终止仿真，再导出图片。可以分别得到下面两幅图：



    Proteus51单片机仿真
1.新建项目，添加芯片
点击P快捷键，添加芯片
AT89C52
添加电阻：Resistor,
添加电容：Capacitors,0213A150JAT2A:33pF
按键：Button
晶振：CRYSTAL,11.0592MHz
R:10K,470
LED
连接好电路，开始仿真，右键芯片，剪辑属性，加载下载hex程序
调试，开始仿真
